//OFSM unit tests.
//Event queue size = 3;
//States: 
//  0 - S0
//  1 - S1
//Events: 
//  0 - Timeout
//  1 - NormalTransition
//  2 - PreventTransition
//  3 - InfiniteDelay
//----------------------------------------------

p,--- Initial state: queues are empty, sitting in state 0 in infinite sleep ('I' flag set on both OFSM and FSM).
status = -O[I]-G(0)[.,000]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]  
reset //cleanup after self
p
p,--- Same event replaces the same one in the queue by default.
queue,1		//first event
queue,1		//the same event, group event count is expected to be 1
status = -O[I]-G(0)[.,001]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]
reset
p
p,--- When event is forced it takes new space in event queue.
queue,1,0,0	 //queue Normal transition event
queue,f,1,0  //force new event even though event is the same. Group event count expected to be 2.
status = -O[I]-G(0)[.,002]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]
reset
p
p,--- When group even queue overflows, event gets dropped.
queue,f,1	//1 of 3
queue,f,1   //2 of 3
queue,f,1	//3 of 3; group event queue overflow flag gets set.
status = -O[I]-G(0)[!,003]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]
queue,f,1   //overflow, event should be dropped. No change in queue size
status = -O[I]-G(0)[!,003]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]
reset
p
p, --- Simulate timeout event, it should not cause changes in the state as machine sits in infinite timeout.
queue,0
wakeup
status = -O[I]-G(0)[.,000]-F(0)[Ipo]-S(0)-TW[0000000000.,O:0000000000.,F:0000000000.]
reset
p
p, --- When transitioning to state which doesn't have timeout handler, FSM gets into infinite sleep.
queue,1  //from S0 -> S1, which doesn't have timeout handler
wakeup   //make one step through FSM
status = -O[I]-G(0)[.,000]-F(0)[Ipo]-S(1)-TW[0000000000.,O:0000000000.,F:0000000000.]
reset
p
p, --- When transitioning to state, wakeup time should be set; It should be no 'I' (infinite sleep) flag set.
queue,1  //from S0 -> S1, which doesn't have timeout handler
wakeup   //make one step through FSM
queue,1  //from S1 -> S1, timeout is determined by OFSM_CONFIG_DEFAULT_STATE_TRANSITION_DELAY which is expected to be = 1
wakeup
status = -O[i]-G(0)[.,000]-F(0)[ipo]-S(0)-TW[0000000000.,O:0000000001.,F:0000000001.]
reset

p,--- TBI....exiting....
//delay,100000
exit